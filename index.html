<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <header class="header">
      <img class="header-img" src="img/Vector (18).svg" alt="" />
      <div class="header-box">
        <a class="header-box-link" href="index.html" aria-current="page"
          >Мои расходы</a
        >
        <a class="header-box-link" href="analysis.html" aria-current="page"
          >Анализ расходов</a
        >
      </div>
      <button class="button-header">Выйти</button>
    </header>
    <h1 class="title">Мои расходы</h1>
    <div class="expenses">
      <div class="expenses-left">
        <h2 class="expenses-title">Таблица расходов</h2>
        <div class="expenses-header">
          <p class="expenses-header-text">Описание</p>
          <p class="expenses-header-text">Категория</p>
          <p class="expenses-header-text">Дата</p>
          <p class="expenses-header-text">Сумма</p>
        </div>
        <div class="expenses-box">
          <p class="expenses-box-text">Пятерочка</p>
          <p class="expenses-box-text">Еда</p>
          <p class="expenses-box-text">03.07.2024</p>
          <p class="expenses-box-text">3 500 ₽</p>
          <b
            ><svg
              width="12.000000"
              height="12.000000"
              viewBox="0 0 12 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <desc>Created with Pixso.</desc>
              <defs />
              <path
                id="Vector"
                d="M9.62 2.79L9.41 2.79L7.72 1.1C7.59 0.96 7.37 0.96 7.23 1.1C7.09 1.23 7.09 1.45 7.23 1.59L8.42 2.79L3.57 2.79L4.76 1.59C4.9 1.45 4.9 1.23 4.76 1.1C4.63 0.96 4.4 0.96 4.27 1.1L2.58 2.79L2.38 2.79C1.93 2.79 1 2.79 1 4.07C1 4.55 1.09 4.87 1.31 5.08C1.42 5.2 1.57 5.27 1.72 5.31C1.87 5.34 2.03 5.35 2.17 5.35L9.82 5.35C9.97 5.35 10.12 5.34 10.26 5.31C10.68 5.2 11 4.9 11 4.07C11 2.79 10.06 2.79 9.62 2.79Z"
                fill="#999999"
                fill-opacity="1.000000"
                fill-rule="nonzero"
              />
              <path
                id="Vector"
                d="M9.52 6L2.43 6C2.12 6 1.89 6.27 1.94 6.58L2.36 9.14C2.5 10.01 2.87 11 4.54 11L7.34 11C9.03 11 9.33 10.15 9.51 9.2L10.01 6.59C10.07 6.28 9.84 6 9.52 6ZM5.3 9.22C5.3 9.41 5.15 9.57 4.96 9.57C4.76 9.57 4.61 9.41 4.61 9.22L4.61 7.57C4.61 7.38 4.76 7.22 4.96 7.22C5.15 7.22 5.3 7.38 5.3 7.57L5.3 9.22ZM7.44 9.22C7.44 9.41 7.29 9.57 7.09 9.57C6.9 9.57 6.74 9.41 6.74 9.22L6.74 7.57C6.74 7.38 6.9 7.22 7.09 7.22C7.29 7.22 7.44 7.38 7.44 7.57L7.44 9.22Z"
                fill="#999999"
                fill-opacity="1.000000"
                fill-rule="nonzero"
              />
              <g opacity="0.000000" />
            </svg>
          </b>
        </div>
      </div>
      <div class="expenses-new">
        <h3 class="expenses-title">Новый расход</h3>
        <p class="expenses-new-text">Описание</p>
        <input
          class="expenses-new-input"
          placeholder="Введите описание"
          type="text"
          oninput="validateInput(this)"
        />
        <p class="expenses-new-text">Категория</p>
        <div class="expenses-new-box">
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Еда
            </p>
          </div>
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Транспорт
            </p>
          </div>
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Жилье
            </p>
          </div>
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Развлечения
            </p>
          </div>
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Образование
            </p>
          </div>
          <div class="expenses-new-category">
            <b></b>
            <p
              class="expenses-new-category-text"
              onclick="selectCategory(this)"
            >
              Другое
            </p>
          </div>
        </div>
        <p class="expenses-new-text">Дата</p>
        <input
          class="expenses-new-input"
          placeholder="Введите дату"
          type="date"
          oninput="validateInput(this)"
        />
        <p class="expenses-new-text">Сумма</p>
        <input
          class="expenses-new-input"
          placeholder="Введите сумму"
          type="number"
          min="1"
          oninput="validateInput(this)"
        />
        <button class="expenses-new-button">Добавить новый расход</button>
      </div>
    </div>
    <script>
      function selectCategory(element) {
        // Удаляем класс selected у всех категорий
        document
          .querySelectorAll(".expenses-new-category-text")
          .forEach((category) => {
            category.classList.remove("selected");
          });

        // Добавляем класс selected к выбранной категории
        element.classList.add("selected");
      }

      function validateInput(input) {
        // Для всех полей - проверка на заполненность
        if (input.value.trim() !== "") {
          // Дополнительные проверки для специфичных типов
          if (input.type === "number" && parseFloat(input.value) <= 0) {
            input.classList.remove("valid");
            return;
          }

          input.classList.add("valid");
        } else {
          input.classList.remove("valid");
        }
      }

      // Валидация при потере фокуса
      document.querySelectorAll(".expenses-new-input").forEach((input) => {
        input.addEventListener("blur", function () {
          validateInput(this);
        });
      });
    </script>
  </body>
</html>
